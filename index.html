<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BIOM Premium App</title>
    
    <!-- PWA Manifest (Fixed Quote) -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (Original Reliable Links) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (Fixed Link) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                .then(registration => console.log('ServiceWorker registered'))
                .catch(err => console.log('ServiceWorker error: ', err));
            });
        }
    </script>

    <style>
        /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶ï‡ßã‡¶°‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
      body {
    font-family: 'Poppins', sans-serif;
    background-color: #f8fafc;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100dvh; /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶´‡ßÅ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
    overflow: hidden; /* ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
      } 
          ::-webkit-scrollbar { width: 0px; background: transparent; }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-top: 1px solid rgba(255,255,255,0.3); }
        .glass-modal { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
        .premium-shadow { box-shadow: 0 10px 40px -10px rgba(0,0,0,0.08); }
    </style>
</head>
<body>

    <div id="root" class="w-full h-[100dvh] sm:w-[414px] sm:h-[896px]"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
          // Bulletproof LocalStorage Parsing
          const [courses, setCourses] = useState(() => {
             try { return JSON.parse(localStorage.getItem('biom_courses')) || []; } 
             catch (e) { return[]; }
          });
          
          const [admins, setAdmins] = useState(() => {
             try { return JSON.parse(localStorage.getItem('biom_admins')) ||[]; } 
             catch (e) { return []; }
          });

          const[activeTab, setActiveTab] = useState('courses');
          const[sidebarOpen, setSidebarOpen] = useState(false);

          useEffect(() => {
            localStorage.setItem('biom_courses', JSON.stringify(courses));
            localStorage.setItem('biom_admins', JSON.stringify(admins));
          }, [courses, admins]);

          const handleBackup = () => {
            const data = { courses, admins };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `BIOM_Backup_${new Date().toLocaleDateString()}.json`;
            a.click();
            setSidebarOpen(false);
          };

          const handleRestore = (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (event) => {
              try {
                const data = JSON.parse(event.target.result);
                if (data.courses && data.admins) {
                  setCourses(data.courses);
                  setAdmins(data.admins);
                  alert('Data restored successfully!');
                } else {
                  alert('Invalid Backup File');
                }
              } catch (err) {
                alert('Error reading file');
              }
            };
            reader.readAsText(file);
            setSidebarOpen(false);
          };

          return (
            <div className="flex flex-col h-full bg-slate-50 w-full relative overflow-hidden sm:rounded-[40px] sm:shadow-[0_0_0_12px_#0f172a,0_20px_60px_rgba(0,0,0,0.3)]">
              
              <div className="bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-800 text-white flex justify-between items-center px-6 pt-10 pb-5 shadow-lg z-20 rounded-b-[32px] relative overflow-hidden">
                <div className="absolute top-0 left-0 w-full h-full bg-white opacity-5 mix-blend-overlay"></div>
                <div className="absolute -top-10 -right-10 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl"></div>
                
                <div className="font-extrabold text-2xl tracking-widest z-10 flex items-center gap-2">
                    <div className="w-8 h-8 bg-white rounded-lg flex items-center justify-center shadow-inner">
                        <span className="text-indigo-600 text-lg"><i className="fas fa-layer-group"></i></span>
                    </div>
                    BIOM
                </div>
                <button onClick={() => setSidebarOpen(true)} className="p-2 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full transition-all z-10 w-10 h-10 flex items-center justify-center">
                  <i className="fas fa-ellipsis-v text-lg"></i>
                </button>
              </div>

              {sidebarOpen && (
                <div className="absolute inset-0 glass-modal z-30 transition-opacity" onClick={() => setSidebarOpen(false)}></div>
              )}

              <div className={`absolute top-0 right-0 h-full w-72 bg-white shadow-2xl z-40 transform transition-transform duration-400 ease-in-out flex flex-col rounded-l-[32px] ${sidebarOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                <div className="p-6 bg-gradient-to-br from-slate-900 to-slate-800 text-white flex justify-between items-center rounded-tl-[32px]">
                  <span className="font-bold text-xl tracking-wide">Settings</span>
                  <button onClick={() => setSidebarOpen(false)} className="w-8 h-8 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20"><i className="fas fa-times"></i></button>
                </div>
                <div className="flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50">
                  <button onClick={handleBackup} className="w-full flex items-center gap-4 p-4 bg-white border border-indigo-100 text-indigo-700 rounded-2xl premium-shadow hover:scale-[1.02] transition-transform">
                    <div className="w-10 h-10 bg-indigo-50 rounded-full flex items-center justify-center"><i className="fas fa-cloud-download-alt text-lg"></i></div> 
                    <span className="font-semibold">Backup Data</span>
                  </button>
                  
                  <div className="relative w-full">
                    <input type="file" accept=".json" onChange={handleRestore} className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10" />
                    <div className="w-full flex items-center gap-4 p-4 bg-white border border-emerald-100 text-emerald-700 rounded-2xl premium-shadow hover:scale-[1.02] transition-transform">
                      <div className="w-10 h-10 bg-emerald-50 rounded-full flex items-center justify-center"><i className="fas fa-cloud-upload-alt text-lg"></i></div> 
                      <span className="font-semibold">Restore Data</span>
                    </div>
                  </div>
                </div>
                
                <div className="p-6 text-center text-sm text-slate-500 bg-white rounded-bl-[32px] border-t border-slate-100">
                  <div className="w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3">
                    <i className="fas fa-bolt text-indigo-500 text-xl"></i>
                  </div>
                  <p className="font-bold text-slate-800 mb-1">App For Trainer of BIOM</p>
                  <p className="text-xs mb-3">App by Muhammad Roni Biswas<br/>(20th batch)</p>
                  <a href="#" className="inline-block px-4 py-2 bg-blue-50 text-blue-600 rounded-full text-xs font-semibold mb-3 hover:bg-blue-100 transition">
                    <i className="fab fa-facebook-messenger mr-1"></i> @mdroni1702
                  </a>
                  <p className="text-[10px] tracking-widest text-slate-400 uppercase">Version 2.0 Premium</p>
                </div>
              </div>

              <div className="flex-1 overflow-y-auto pb-24 relative px-4 pt-4 z-10">
                {activeTab === 'courses' && <CoursesTab courses={courses} setCourses={setCourses} admins={admins} />}
                {activeTab === 'admins' && <AdminsTab admins={admins} setAdmins={setAdmins} courses={courses} />}
                {activeTab === 'position' && <PositionTab courses={courses} admins={admins} />}
              </div>

              <div className="absolute bottom-4 left-4 right-4 z-20">
                <div className="glass-nav rounded-full flex justify-around items-center h-16 premium-shadow px-2">
                  <NavButton label="Courses" icon="fa-book" active={activeTab === 'courses'} onClick={() => setActiveTab('courses')} />
                  <NavButton label="Admins" icon="fa-user-shield" active={activeTab === 'admins'} onClick={() => setActiveTab('admins')} />
                  <NavButton label="Position" icon="fa-trophy" active={activeTab === 'position'} onClick={() => setActiveTab('position')} />
                </div>
              </div>
            </div>
          );
        }

        const NavButton = ({ label, icon, active, onClick }) => (
          <button onClick={onClick} className={`relative flex-1 h-12 flex flex-col items-center justify-center transition-all duration-300 rounded-full mx-1 ${active ? 'bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform -translate-y-1' : 'text-slate-400 hover:bg-slate-100 hover:text-slate-600'}`}>
            <i className={`fas ${icon} ${active ? 'text-lg mb-0.5' : 'text-md mb-1'}`}></i>
            {active && <span className="text-[10px] font-semibold tracking-wide">{label}</span>}
          </button>
        );

        /* ============================ COURSES TAB ============================ */
        function CoursesTab({ courses, setCourses, admins }) {
          const[search, setSearch] = useState('');
          const [showAddCourse, setShowAddCourse] = useState(false);
          const [courseName, setCourseName] = useState('');
          const[batchForm, setBatchForm] = useState(null);

          const addCourse = (e) => {
            e.preventDefault();
            if (!courseName.trim()) return;
            setCourses([{ id: Date.now().toString(), name: courseName, batches: [] }, ...courses]);
            setCourseName('');
            setShowAddCourse(false);
          };

          const deleteCourse = (id) => {
            if (window.confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶è‡¶á ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶∏‡ßç‡¶•‡¶æ‡ßü‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
              setCourses(courses.filter(c => c.id !== id));
            }
          };

          const filteredCourses = courses.filter(c => c.name.toLowerCase().includes(search.toLowerCase()));

          return (
            <div className="space-y-5">
              <div className="flex gap-3 items-center sticky top-0 z-10 pt-2 pb-2 bg-slate-50/90 backdrop-blur-sm">
                <div className="relative flex-1">
                  <i className="fas fa-search absolute left-4 top-3.5 text-slate-400"></i>
                  <input type="text" placeholder="Search premium courses..." value={search} onChange={(e) => setSearch(e.target.value)} className="w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-full focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none premium-shadow text-sm transition-all" />
                </div>
                <button onClick={() => setShowAddCourse(true)} className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white w-12 h-12 rounded-full shadow-lg shadow-indigo-500/40 hover:scale-105 transition-transform flex items-center justify-center flex-shrink-0">
                  <i className="fas fa-plus text-xl"></i>
                </button>
              </div>

              {showAddCourse && (
                <form onSubmit={addCourse} className="bg-white p-6 rounded-[24px] premium-shadow border border-slate-100 transform transition-all">
                  <div className="flex justify-between items-center mb-4">
                    <h3 className="font-bold text-slate-800 text-lg">New Course</h3>
                    <button type="button" onClick={() => setShowAddCourse(false)} className="w-8 h-8 bg-slate-100 text-slate-500 rounded-full flex items-center justify-center"><i className="fas fa-times"></i></button>
                  </div>
                  <input type="text" placeholder="Enter course name" value={courseName} onChange={(e) => setCourseName(e.target.value)} className="w-full border-2 border-slate-100 bg-slate-50 p-3 rounded-xl mb-4 focus:bg-white focus:border-indigo-500 outline-none text-sm transition-all" required autoFocus />
                  <button type="submit" className="w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold shadow-md hover:bg-indigo-700 transition-colors">Create Course</button>
                </form>
              )}

              <div className="space-y-4">
                {filteredCourses.map(course => (
                  <div key={course.id} className="bg-white rounded-[24px] premium-shadow border border-slate-100 overflow-hidden transition-all hover:border-indigo-100">
                    <div className="p-5 flex items-center justify-between border-b border-slate-50 bg-gradient-to-br from-white to-slate-50">
                      <button onClick={() => setBatchForm(course.id)} className="w-10 h-10 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center hover:bg-indigo-600 hover:text-white transition-colors">
                        <i className="fas fa-plus"></i>
                      </button>
                      <h3 className="font-bold text-lg text-slate-800 text-center flex-1 px-2 line-clamp-1">{course.name}</h3>
                      <div className="flex items-center gap-2">
                        <span className="bg-slate-100 text-slate-600 text-[10px] font-bold px-3 py-1.5 rounded-full border border-slate-200">{course.batches.length} Batches</span>
                        <button onClick={() => deleteCourse(course.id)} className="w-8 h-8 rounded-full text-red-400 hover:bg-red-50 hover:text-red-600 transition-colors flex items-center justify-center">
                          <i className="fas fa-trash-alt"></i>
                        </button>
                      </div>
                    </div>

                    {batchForm === course.id && (
                       <BatchForm courseId={course.id} courses={courses} setCourses={setCourses} admins={admins} onClose={() => setBatchForm(null)} />
                    )}

                    <div className="p-3 space-y-2 bg-slate-50/50">
                      {course.batches.length === 0 && !batchForm ? (
                        <p className="text-center text-xs text-slate-400 py-3">No batches created yet.</p>
                      ) : (
                        course.batches.map(batch => (
                          <BatchItem key={batch.id} courseId={course.id} batch={batch} courses={courses} setCourses={setCourses} admins={admins} />
                        ))
                      )}
                    </div>
                  </div>
                ))}
                {filteredCourses.length === 0 && !showAddCourse && (
                   <div className="text-center mt-16">
                      <div className="w-24 h-24 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4 opacity-50">
                        <i className="fas fa-folder-open text-4xl text-slate-400"></i>
                      </div>
                      <p className="text-slate-500 font-medium">No courses found</p>
                   </div>
                )}
              </div>
            </div>
          );
        }

        function BatchForm({ courseId, batchData = null, courses, setCourses, admins, onClose }) {
          const[formData, setFormData] = useState(batchData || {
            batchNumber: '', batchStartDate: '', admissionStartDate: '', mainTeacher: '', status: 'Coming Soon', selectedAdmins: []
          });
          const[showAdminSelect, setShowAdminSelect] = useState(false);

          const toggleAdmin = (adminId) => {
            let newAdmins = [...formData.selectedAdmins];
            const exists = newAdmins.find(a => a.id === adminId);
            if (exists) {
              newAdmins = newAdmins.filter(a => a.id !== adminId);
            } else {
              newAdmins.push({ id: adminId, admissionCount: '' });
            }
            setFormData({ ...formData, selectedAdmins: newAdmins });
          };

          const handleSave = (e) => {
            e.preventDefault();
            if (!formData.batchNumber) return;
            
            const updatedCourses = courses.map(c => {
              if (c.id === courseId) {
                if (batchData) {
                  return { ...c, batches: c.batches.map(b => b.id === batchData.id ? { ...formData } : b) };
                } else {
                  return { ...c, batches:[{ ...formData, id: Date.now().toString(), createdAt: new Date().toLocaleDateString() }, ...c.batches] };
                }
              }
              return c;
            });
            setCourses(updatedCourses);
            onClose();
          };

          return (
            <form onSubmit={handleSave} className="m-3 p-5 bg-white border border-indigo-100 rounded-2xl shadow-sm">
              <h4 className="font-bold text-indigo-900 mb-4 text-sm flex items-center gap-2">
                <i className="fas fa-layer-group text-indigo-500"></i> {batchData ? 'Edit Batch' : 'Add New Batch'}
              </h4>
              <div className="grid grid-cols-2 gap-3 mb-3">
                <input type="text" placeholder="Batch No." value={formData.batchNumber} onChange={e => setFormData({...formData, batchNumber: e.target.value})} className="bg-slate-50 border border-slate-200 p-2.5 rounded-xl text-sm w-full focus:bg-white focus:border-indigo-500 outline-none" required />
                <input type="text" placeholder="Main Teacher" value={formData.mainTeacher} onChange={e => setFormData({...formData, mainTeacher: e.target.value})} className="bg-slate-50 border border-slate-200 p-2.5 rounded-xl text-sm w-full focus:bg-white focus:border-indigo-500 outline-none" required />
                
                <div className="relative">
                  <label className="text-[10px] font-semibold text-slate-500 uppercase tracking-wider mb-1 block pl-1">Batch Start</label>
                  <input type="date" value={formData.batchStartDate} onChange={e => setFormData({...formData, batchStartDate: e.target.value})} className="bg-slate-50 border border-slate-200 p-2.5 rounded-xl text-xs w-full focus:bg-white focus:border-indigo-500 outline-none text-slate-700" />
                </div>
                <div className="relative">
                  <label className="text-[10px] font-semibold text-slate-500 uppercase tracking-wider mb-1 block pl-1">Admission</label>
                  <input type="date" value={formData.admissionStartDate} onChange={e => setFormData({...formData, admissionStartDate: e.target.value})} className="bg-slate-50 border border-slate-200 p-2.5 rounded-xl text-xs w-full focus:bg-white focus:border-indigo-500 outline-none text-slate-700" />
                </div>
              </div>
              
              <label className="text-[10px] font-semibold text-slate-500 uppercase tracking-wider mb-1 block pl-1 mt-3">Status</label>
              <select value={formData.status} onChange={e => setFormData({...formData, status: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-2.5 rounded-xl text-sm mb-4 focus:bg-white focus:border-indigo-500 outline-none text-slate-700">
                <option value="Coming Soon">‚è≥ Coming Soon</option>
                <option value="Ongoing">üü¢ Ongoing</option>
                <option value="End">üî¥ End</option>
              </select>

              <div className="mb-5">
                <label className="text-[10px] font-semibold text-slate-500 uppercase tracking-wider mb-1 block pl-1">Assign Admins</label>
                <button type="button" onClick={() => setShowAdminSelect(!showAdminSelect)} className="w-full bg-white border border-slate-200 p-3 rounded-xl flex justify-between items-center text-sm shadow-sm hover:border-indigo-300 transition-colors">
                  <span className="font-medium text-slate-700">{formData.selectedAdmins.length > 0 ? `${formData.selectedAdmins.length} Selected` : 'Choose Admins'}</span>
                  <i className={`fas fa-chevron-${showAdminSelect ? 'up' : 'down'} text-slate-400`}></i>
                </button>
                {showAdminSelect && (
                  <div className="mt-2 max-h-40 overflow-y-auto bg-white border border-slate-100 rounded-xl shadow-lg p-2 space-y-1 absolute z-10 w-[calc(100%-4rem)] sm:w-[320px]">
                    {admins.map(admin => (
                      <label key={admin.id} className="flex items-center gap-3 p-2 hover:bg-indigo-50 rounded-lg cursor-pointer text-sm transition-colors border border-transparent hover:border-indigo-100">
                        <input type="checkbox" checked={!!formData.selectedAdmins.find(a => a.id === admin.id)} onChange={() => toggleAdmin(admin.id)} className="w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500" />
                        <span className="font-medium text-slate-700">{admin.name}</span>
                      </label>
                    ))}
                    {admins.length === 0 && <p className="text-xs text-slate-400 text-center py-2">No admins available. Add in Admins tab.</p>}
                  </div>
                )}
              </div>

              <div className="flex justify-end gap-2 pt-2 border-t border-slate-100">
                <button type="button" onClick={onClose} className="px-4 py-2 text-sm font-semibold text-slate-500 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors">Cancel</button>
                <button type="submit" className="px-6 py-2 text-sm font-semibold bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md transition-colors">Save Batch</button>
              </div>
            </form>
          );
        }

        function BatchItem({ courseId, batch, courses, setCourses, admins }) {
          const[expanded, setExpanded] = useState(false);
          const [isEditing, setIsEditing] = useState(false);
          const[activeAdminInput, setActiveAdminInput] = useState(null);
          const[tempAdmissionCount, setTempAdmissionCount] = useState('');
          const [showAdminDetailsModal, setShowAdminDetailsModal] = useState(null);

          const deleteBatch = (e) => {
            e.stopPropagation();
            if (window.confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶è‡¶á ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö‡¶ü‡¶ø ‡¶∏‡ßç‡¶•‡¶æ‡ßü‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
              const updatedCourses = courses.map(c => {
                if (c.id === courseId) return { ...c, batches: c.batches.filter(b => b.id !== batch.id) };
                return c;
              });
              setCourses(updatedCourses);
            }
          };

          const saveAdmissionCount = (adminId) => {
            const updatedCourses = courses.map(c => {
              if (c.id === courseId) {
                const uBatches = c.batches.map(b => {
                  if (b.id === batch.id) {
                    const uAdmins = b.selectedAdmins.map(a => 
                      a.id === adminId ? { ...a, admissionCount: tempAdmissionCount } : a
                    );
                    return { ...b, selectedAdmins: uAdmins };
                  }
                  return b;
                });
                return { ...c, batches: uBatches };
              }
              return c;
            });
            setCourses(updatedCourses);
            setActiveAdminInput(null);
          };

          if (isEditing) {
            return <BatchForm courseId={courseId} batchData={batch} courses={courses} setCourses={setCourses} admins={admins} onClose={() => setIsEditing(false)} />;
          }

          const statusStyles = {
            'Coming Soon': 'bg-amber-100 text-amber-700 border-amber-200',
            'Ongoing': 'bg-emerald-100 text-emerald-700 border-emerald-200',
            'End': 'bg-rose-100 text-rose-700 border-rose-200'
          };

          return (
            <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden transition-all duration-300">
              <div className="p-3 flex justify-between items-center cursor-pointer hover:bg-slate-50 transition-colors" onClick={() => setExpanded(!expanded)}>
                <div className="flex items-center gap-3">
                  <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${expanded ? 'bg-indigo-100 text-indigo-600' : 'bg-slate-100 text-slate-400'} transition-colors`}>
                    <i className={`fas fa-chevron-${expanded ? 'down' : 'right'} text-sm`}></i>
                  </div>
                  <span className="font-bold text-slate-800 tracking-wide">Batch {batch.batchNumber}</span>
                </div>
                <span className={`text-[10px] font-bold px-3 py-1 rounded-full border ${statusStyles[batch.status]}`}>
                  {batch.status}
                </span>
              </div>

              {expanded && (
                <div className="p-4 border-t border-slate-100 bg-slate-50/50">
                  <div className="flex justify-between items-start mb-5 bg-white p-3 rounded-xl border border-slate-100 shadow-sm">
                     <div className="grid grid-cols-2 gap-x-4 gap-y-3 text-sm flex-1">
                        <div><span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-0.5">Main Teacher</span> <span className="font-semibold text-slate-700">{batch.mainTeacher}</span></div>
                        <div className="text-right pr-2">
                            <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-0.5">Timeline</span> 
                            <span className="text-xs font-medium text-slate-600">{batch.batchStartDate || '--'} to {batch.admissionStartDate || '--'}</span>
                        </div>
                     </div>
                     <div className="flex flex-col gap-1 border-l border-slate-100 pl-2">
                        <button onClick={() => setIsEditing(true)} className="w-8 h-8 rounded-lg bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-colors flex items-center justify-center"><i className="fas fa-pen text-xs"></i></button>
                        <button onClick={deleteBatch} className="w-8 h-8 rounded-lg bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white transition-colors flex items-center justify-center"><i className="fas fa-trash text-xs"></i></button>
                     </div>
                  </div>

                  <div>
                    <h4 className="font-bold text-slate-800 mb-3 text-sm flex items-center justify-between">
                      Admins <span className="bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-md">{batch.selectedAdmins.length}</span>
                    </h4>
                    
                    <div className="bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm">
                      {batch.selectedAdmins.length === 0 ? (
                        <p className="p-4 text-center text-xs text-slate-400">No admins assigned.</p>
                      ) : (
                        <div className="divide-y divide-slate-100">
                            {batch.selectedAdmins.map(bAdmin => {
                            const fullAdmin = admins.find(a => a.id === bAdmin.id);
                            if(!fullAdmin) return null;
                            return (
                                <div key={bAdmin.id} className="p-3 flex items-center justify-between hover:bg-slate-50 transition-colors">
                                <div className="flex items-center gap-3 flex-1">
                                    <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 text-white flex items-center justify-center text-xs font-bold shadow-sm">
                                        {fullAdmin.name.charAt(0).toUpperCase()}
                                    </div>
                                    <div>
                                        <button onClick={() => setShowAdminDetailsModal(fullAdmin)} className="font-bold text-slate-700 hover:text-indigo-600 text-sm block text-left transition-colors">
                                        {fullAdmin.name}
                                        </button>
                                        {bAdmin.admissionCount && (
                                        <span className="text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-md mt-0.5 inline-block">
                                            {bAdmin.admissionCount} Admissions
                                        </span>
                                        )}
                                    </div>
                                </div>
                                
                                <div className="relative flex items-center">
                                    {activeAdminInput === bAdmin.id ? (
                                    <div className="flex items-center gap-1 bg-white border border-slate-200 p-1.5 rounded-xl premium-shadow absolute right-0 z-10 w-48">
                                        <input 
                                        type="number" 
                                        placeholder="Count" 
                                        value={tempAdmissionCount} 
                                        onChange={(e) => setTempAdmissionCount(e.target.value)}
                                        className="w-full text-sm bg-slate-50 border border-slate-200 p-1.5 rounded-lg outline-none focus:border-indigo-500" 
                                        autoFocus
                                        />
                                        <button onClick={() => saveAdmissionCount(bAdmin.id)} className="bg-emerald-500 text-white w-8 h-8 rounded-lg flex items-center justify-center shadow-sm hover:bg-emerald-600"><i className="fas fa-check"></i></button>
                                        <button onClick={() => setActiveAdminInput(null)} className="bg-slate-200 text-slate-600 w-8 h-8 rounded-lg flex items-center justify-center hover:bg-slate-300"><i className="fas fa-times"></i></button>
                                    </div>
                                    ) : (
                                    <button 
                                        onClick={() => {
                                        setActiveAdminInput(bAdmin.id);
                                        setTempAdmissionCount(bAdmin.admissionCount || '');
                                        }} 
                                        className="w-8 h-8 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors"
                                    >
                                        <i className="fas fa-edit text-sm"></i>
                                    </button>
                                    )}
                                </div>
                                </div>
                            );
                            })}
                        </div>
                      )}
                    </div>
                  </div>
                  <div className="text-[9px] font-medium text-slate-400 text-center mt-4 uppercase tracking-wider">Created: {batch.createdAt}</div>
                </div>
              )}

              {showAdminDetailsModal && (
                <div className="fixed inset-0 glass-modal z-50 flex items-center justify-center p-4">
                  <div className="bg-white rounded-[32px] shadow-2xl w-full max-w-sm overflow-hidden relative transform transition-all">
                    <div className="bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-center relative">
                      <button onClick={() => setShowAdminDetailsModal(null)} className="absolute top-4 right-4 w-8 h-8 bg-white/20 rounded-full text-white flex items-center justify-center hover:bg-white/30 backdrop-blur-sm transition-colors"><i className="fas fa-times"></i></button>
                      <div className="w-20 h-20 bg-white rounded-full mx-auto flex items-center justify-center shadow-lg mb-3">
                        <span className="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">
                            {showAdminDetailsModal.name.charAt(0).toUpperCase()}
                        </span>
                      </div>
                      <h3 className="font-bold text-xl text-white">{showAdminDetailsModal.name}</h3>
                      <p className="text-indigo-100 text-sm font-medium">Administrator</p>
                    </div>
                    <div className="p-6 space-y-4 bg-slate-50">
                      <div className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1">Mobile</span>
                        <div className="font-semibold text-slate-700 flex items-center gap-2"><i className="fas fa-phone-alt text-indigo-400"></i> {showAdminDetailsModal.mobile}</div>
                      </div>
                      <div className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1">Address</span>
                        <div className="font-medium text-slate-600 text-sm flex items-start gap-2"><i className="fas fa-map-marker-alt text-indigo-400 mt-1"></i> {showAdminDetailsModal.address}</div>
                      </div>
                      {showAdminDetailsModal.identity && (
                      <div className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1">ID Number</span>
                        <div className="font-mono text-slate-700 font-bold flex items-center gap-2"><i className="fas fa-id-card text-indigo-400"></i> {showAdminDetailsModal.identity}</div>
                      </div>
                      )}
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        }

        /* ============================ ADMINS TAB ============================ */
        function AdminsTab({ admins, setAdmins, courses }) {
          const[search, setSearch] = useState('');
          const[showForm, setShowForm] = useState(false);
          const[editingAdmin, setEditingAdmin] = useState(null);
          const [selectedAdminDetail, setSelectedAdminDetail] = useState(null);
          const [formData, setFormData] = useState({ name: '', address: '', mobile: '', identity: '' });

          const handleSave = (e) => {
            e.preventDefault();
            if (editingAdmin) {
              setAdmins(admins.map(a => a.id === editingAdmin.id ? { ...formData, id: a.id } : a));
            } else {
              setAdmins([{ ...formData, id: Date.now().toString() }, ...admins]);
            }
            setShowForm(false);
            setEditingAdmin(null);
            setFormData({ name: '', address: '', mobile: '', identity: '' });
          };

          const openEdit = (admin) => {
            setFormData(admin);
            setEditingAdmin(admin);
            setShowForm(true);
            setSelectedAdminDetail(null);
          };

          const getAdminWorkDetails = (adminId) => {
            let works =[];
            courses.forEach(course => {
              let activeBatches =[];
              course.batches.forEach(batch => {
                if (batch.selectedAdmins.find(a => a.id === adminId)) {
                  activeBatches.push(batch.batchNumber);
                }
              });
              if (activeBatches.length > 0) {
                works.push({ courseName: course.name, batches: activeBatches });
              }
            });
            return works;
          };

          const filteredAdmins = admins.filter(a => a.name.toLowerCase().includes(search.toLowerCase()));

          return (
            <div className="space-y-5">
              <div className="flex justify-between items-center bg-gradient-to-r from-slate-800 to-slate-900 p-5 rounded-[24px] premium-shadow text-white relative overflow-hidden">
                <div className="absolute right-0 top-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-10 -mt-10"></div>
                <div>
                    <span className="block text-slate-400 text-xs font-bold uppercase tracking-wider mb-1">Total Network</span>
                    <span className="font-bold text-2xl">Admins</span>
                </div>
                <div className="bg-indigo-500/30 backdrop-blur-md border border-indigo-400/30 text-white w-14 h-14 rounded-2xl flex items-center justify-center font-extrabold text-2xl shadow-inner">
                    {admins.length}
                </div>
              </div>

              <div className="flex gap-3 items-center">
                <div className="relative flex-1">
                  <i className="fas fa-search absolute left-4 top-3.5 text-slate-400"></i>
                  <input type="text" placeholder="Search admins..." value={search} onChange={(e) => setSearch(e.target.value)} className="w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-full focus:ring-2 focus:ring-indigo-500 outline-none premium-shadow text-sm" />
                </div>
                <button onClick={() => { setShowForm(true); setEditingAdmin(null); setFormData({ name: '', address: '', mobile: '', identity: '' }); }} className="bg-slate-900 text-white w-12 h-12 rounded-full shadow-lg shadow-slate-900/40 hover:scale-105 transition-transform flex items-center justify-center flex-shrink-0">
                  <i className="fas fa-user-plus text-lg"></i>
                </button>
              </div>

              {showForm && (
                <form onSubmit={handleSave} className="bg-white p-6 rounded-[24px] premium-shadow border border-slate-100">
                  <h3 className="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2">
                    <i className="fas fa-id-badge text-indigo-500"></i> {editingAdmin ? 'Update Profile' : 'New Admin'}
                  </h3>
                  <div className="space-y-3">
                    <input type="text" placeholder="Full Name" value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-sm focus:bg-white focus:border-indigo-500 outline-none" required />
                    <input type="tel" placeholder="Mobile Number" value={formData.mobile} onChange={e => setFormData({...formData, mobile: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-sm focus:bg-white focus:border-indigo-500 outline-none" required />
                    <input type="text" placeholder="Complete Address" value={formData.address} onChange={e => setFormData({...formData, address: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-sm focus:bg-white focus:border-indigo-500 outline-none" required />
                    <input type="text" placeholder="ID Number (Optional)" value={formData.identity} onChange={e => setFormData({...formData, identity: e.target.value})} className="w-full bg-slate-50 border border-slate-200 p-3 rounded-xl text-sm focus:bg-white focus:border-indigo-500 outline-none" />
                  </div>
                  <div className="flex justify-end gap-3 pt-5 mt-2 border-t border-slate-100">
                    <button type="button" onClick={() => setShowForm(false)} className="px-5 py-2.5 text-sm font-semibold text-slate-500 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors">Cancel</button>
                    <button type="submit" className="px-6 py-2.5 text-sm font-semibold bg-slate-900 text-white rounded-xl shadow-md hover:bg-black transition-colors">Save Profile</button>
                  </div>
                </form>
              )}

              {selectedAdminDetail ? (
                <div className="bg-white rounded-[24px] premium-shadow border border-slate-100 overflow-hidden">
                   <div className="p-6 border-b border-slate-100 bg-gradient-to-br from-indigo-50 to-white flex justify-between items-start">
                      <div className="flex gap-4 items-center">
                        <div className="w-14 h-14 bg-indigo-600 text-white rounded-2xl flex items-center justify-center text-2xl font-bold shadow-lg shadow-indigo-500/30">
                            {selectedAdminDetail.name.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <h2 className="text-xl font-bold text-slate-800">{selectedAdminDetail.name}</h2>
                            <span className="text-xs font-bold text-indigo-600 bg-indigo-100 px-2 py-1 rounded-md mt-1 inline-block">Verified Admin</span>
                        </div>
                      </div>
                      <div className="flex flex-col gap-2">
                        <button onClick={() => setSelectedAdminDetail(null)} className="w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center hover:bg-slate-200"><i className="fas fa-times"></i></button>
                        <button onClick={() => openEdit(selectedAdminDetail)} className="w-8 h-8 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center hover:bg-indigo-100"><i className="fas fa-pen text-xs"></i></button>
                      </div>
                   </div>
                   
                   <div className="p-6 space-y-4 bg-slate-50">
                      <div className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1">Contact Info</span>
                        <div className="font-semibold text-slate-700">{selectedAdminDetail.mobile}</div>
                        <div className="text-sm text-slate-500 mt-1">{selectedAdminDetail.address}</div>
                      </div>

                      <div className="mt-6">
                        <h4 className="font-bold text-slate-800 mb-3 flex items-center gap-2">
                            <i className="fas fa-briefcase text-slate-400"></i> Active Work Profile
                        </h4>
                        {getAdminWorkDetails(selectedAdminDetail.id).length === 0 ? (
                            <div className="bg-white border border-dashed border-slate-300 rounded-2xl p-6 text-center">
                                <p className="text-sm font-medium text-slate-400">Not assigned to any batch yet.</p>
                            </div>
                        ) : (
                            <div className="space-y-3">
                            {getAdminWorkDetails(selectedAdminDetail.id).map((work, idx) => (
                                <div key={idx} className="bg-white p-4 rounded-2xl border border-indigo-100 shadow-sm relative overflow-hidden">
                                <div className="absolute left-0 top-0 bottom-0 w-1 bg-indigo-500"></div>
                                <p className="font-bold text-slate-800 text-sm mb-2">{work.courseName}</p>
                                <div className="flex flex-wrap gap-1.5">
                                    {work.batches.map(b => <span key={b} className="bg-indigo-50 text-indigo-700 text-xs font-bold px-2 py-1 rounded-md border border-indigo-100">Batch {b}</span>)}
                                </div>
                                </div>
                            ))}
                            </div>
                        )}
                      </div>
                   </div>
                </div>
              ) : (
                <div className="space-y-3">
                  {filteredAdmins.map(admin => (
                    <div key={admin.id} onClick={() => setSelectedAdminDetail(admin)} className="bg-white p-4 rounded-[20px] premium-shadow border border-slate-100 flex items-center gap-4 cursor-pointer hover:border-indigo-200 transition-colors">
                      <div className="w-12 h-12 bg-slate-100 text-slate-600 rounded-xl flex items-center justify-center font-bold text-lg">
                        {admin.name.charAt(0).toUpperCase()}
                      </div>
                      <div className="flex-1">
                        <h4 className="font-bold text-slate-800 text-sm md:text-base">{admin.name}</h4>
                        <p className="text-xs text-slate-500 mt-0.5"><i className="fas fa-phone-alt text-[10px] mr-1"></i> {admin.mobile}</p>
                      </div>
                      <div className="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center">
                        <i className="fas fa-chevron-right text-xs"></i>
                      </div>
                    </div>
                  ))}
                  {filteredAdmins.length === 0 && !showForm && (
                    <div className="text-center mt-16">
                        <div className="w-24 h-24 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4 opacity-50">
                            <i className="fas fa-users-slash text-4xl text-slate-400"></i>
                        </div>
                        <p className="text-slate-500 font-medium">No admins found</p>
                    </div>
                  )}
                </div>
              )}
            </div>
          );
        }

        /* ============================ POSITION TAB ============================ */
        function PositionTab({ courses, admins }) {
          const [selectedCourse, setSelectedCourse] = useState(null);

          const calculatePositions = (courseId) => {
            const course = courses.find(c => c.id === courseId);
            if (!course) return[];

            let adminStats = {}; 

            course.batches.forEach(batch => {
              batch.selectedAdmins.forEach(bAdmin => {
                if (!adminStats[bAdmin.id]) {
                  adminStats[bAdmin.id] = { totalAdmissions: 0, validBatchCount: 0 };
                }
                
                if (bAdmin.admissionCount !== undefined && bAdmin.admissionCount !== null && bAdmin.admissionCount !== '') {
                  const count = parseInt(bAdmin.admissionCount, 10);
                  if (!isNaN(count)) {
                    adminStats[bAdmin.id].totalAdmissions += count;
                    adminStats[bAdmin.id].validBatchCount += 1;
                  }
                }
              });
            });

            const rankingArray =[];
            Object.keys(adminStats).forEach(adminId => {
              const stats = adminStats[adminId];
              const adminInfo = admins.find(a => a.id === adminId);
              if (adminInfo) {
                const avg = stats.validBatchCount > 0 ? (stats.totalAdmissions / stats.validBatchCount).toFixed(2) : 0;
                rankingArray.push({
                  adminName: adminInfo.name,
                  avgAdmission: parseFloat(avg),
                  totalAdmission: stats.totalAdmissions,
                  batchCount: stats.validBatchCount
                });
              }
            });

            return rankingArray.sort((a, b) => b.avgAdmission - a.avgAdmission);
          };

          if (selectedCourse) {
            const rankings = calculatePositions(selectedCourse.id);
            
            const rankStyles =[
                "bg-gradient-to-r from-amber-100 to-yellow-50 border-amber-300 shadow-amber-500/20",
                "bg-gradient-to-r from-slate-100 to-gray-50 border-slate-300 shadow-slate-500/20",
                "bg-gradient-to-r from-orange-100 to-amber-50 border-orange-300 shadow-orange-500/20"
            ];
            const rankIcons =[
                "text-amber-500", "text-slate-400", "text-orange-500"
            ];

            return (
              <div className="flex flex-col h-full">
                <button onClick={() => setSelectedCourse(null)} className="mb-4 flex items-center text-slate-600 font-bold bg-white px-4 py-2.5 rounded-full shadow-sm w-fit border border-slate-200 hover:bg-slate-50 transition-colors text-sm">
                  <i className="fas fa-arrow-left mr-2"></i> Leaderboard
                </button>
                
                <div className="bg-gradient-to-br from-indigo-600 to-indigo-900 text-white p-6 rounded-[24px] shadow-lg text-center relative overflow-hidden mb-6">
                  <i className="fas fa-crown absolute right-4 top-4 text-6xl text-white opacity-10 rotate-12"></i>
                  <h2 className="text-2xl font-black mb-1 relative z-10">{selectedCourse.name}</h2>
                  <p className="text-xs font-medium text-indigo-200 uppercase tracking-widest relative z-10">Performance Ranking</p>
                </div>

                <div className="flex-1 space-y-3 pb-8">
                  {rankings.length === 0 ? (
                    <div className="bg-white rounded-2xl p-8 text-center border border-dashed border-slate-300">
                        <i className="fas fa-chart-line text-4xl text-slate-300 mb-3"></i>
                        <p className="text-slate-500 font-medium text-sm">No data available for calculation yet.</p>
                    </div>
                  ) : (
                    rankings.map((rank, index) => {
                      const isTop3 = index < 3;
                      return (
                      <div key={index} className={`flex items-center p-4 rounded-[20px] relative overflow-hidden border transition-all ${isTop3 ? rankStyles[index] + ' shadow-md scale-[1.02] z-10 my-4' : 'bg-white border-slate-100 shadow-sm'}`}>
                        
                        <div className="w-10 font-black text-center flex flex-col items-center justify-center">
                            {isTop3 ? <i className={`fas fa-medal text-2xl ${rankIcons[index]}`}></i> : <span className="text-slate-400 text-lg">#{index + 1}</span>}
                        </div>
                        
                        <div className="flex-1 ml-3 border-l border-black/5 pl-4">
                          <h4 className={`font-bold text-sm ${isTop3 ? 'text-slate-800' : 'text-slate-700'}`}>{rank.adminName}</h4>
                          <div className="flex items-center gap-1 mt-1">
                            <span className="text-[10px] uppercase font-bold text-slate-400 tracking-wider">Avg:</span>
                            <span className={`font-black text-sm ${isTop3 ? rankIcons[index] : 'text-indigo-600'}`}>{rank.avgAdmission}</span>
                          </div>
                        </div>
                        
                        <div className="text-right bg-white/60 backdrop-blur-sm p-2 rounded-xl border border-white/40 shadow-sm">
                          <p className="font-bold text-slate-800 text-sm">{rank.totalAdmission}</p>
                          <p className="text-[9px] font-bold text-slate-400 uppercase tracking-wider">{rank.batchCount} Batches</p>
                        </div>
                      </div>
                    )})
                  )}
                </div>
              </div>
            );
          }

          return (
            <div className="space-y-4">
              <div className="text-center mb-8 pt-4">
                  <div className="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3 text-indigo-600 shadow-inner">
                    <i className="fas fa-trophy text-2xl"></i>
                  </div>
                  <h2 className="font-bold text-xl text-slate-800">Rankings</h2>
                  <p className="text-xs text-slate-500 mt-1 font-medium">Select a course to view admin performance</p>
              </div>

              <div className="space-y-3">
              {courses.map(course => (
                <div 
                  key={course.id} 
                  onClick={() => setSelectedCourse(course)}
                  className="bg-white p-5 rounded-[20px] premium-shadow border border-slate-100 cursor-pointer hover:border-indigo-300 hover:scale-[1.02] transition-all flex justify-between items-center group"
                >
                  <div className="flex items-center gap-4">
                    <div className="w-10 h-10 rounded-full bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors">
                        <i className="fas fa-book-open text-sm"></i>
                    </div>
                    <span className="font-bold text-slate-800 text-sm md:text-base">{course.name}</span>
                  </div>
                  <div className="w-8 h-8 rounded-full bg-slate-50 flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white text-slate-400 transition-all">
                    <i className="fas fa-arrow-right text-xs"></i>
                  </div>
                </div>
              ))}
              </div>
              {courses.length === 0 && <p className="text-center text-slate-400 text-sm mt-10">No courses available.</p>}
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
    <!-- Service Worker Registration for Offline App -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js').then(registration => {
                    console.log('ServiceWorker registered successfully.');
                }).catch(err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>
